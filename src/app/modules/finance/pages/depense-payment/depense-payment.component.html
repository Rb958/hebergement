<form [formGroup]="paymentForm">
  <span matDialogTitle>Nouveau paiement pour la depense {{ depense.categorie }}</span>
  <div matDialogContent>
    <div class="form-item">
      <label>{{'local_price' | translate}}</label>
      <span class="price">{{ depense.montant || 0 | hundredSeparator}} FCFA</span>
    </div>
    <div class="form-item">
      <label>{{'rest_amount' | translate}}</label>
      <span class="price">{{ depense.restAmount || 0 | hundredSeparator}} FCFA</span>
    </div>
    <div class="form-item">
      <label for="paymentMethod">{{'paymentMethod' | translate}}<span class="required">*</span></label>
      <div class="input-control" [class.error]="paymentForm.get('paymentMethod')?.touched && paymentForm.get('paymentMethod')?.hasError('required')">
        <select name="paymentMethod" id="paymentMethod" formControlName="paymentMethod">
          <option value="">Selectionner un moyen de paiement</option>
          <option value="Virement bancaire">Virement bancaire</option>
          <option value="Chèque">Chèque</option>
          <option value="Espèces">Espèces</option>
          <option value="Orange Money">Orange Money</option>
          <option value="MTN Mobile Money">MTN Mobile Money</option>
        </select>
      </div>
      <span class="hint"></span>
      <span class="hint error" *ngIf="paymentForm.get('paymentMethod')?.touched && paymentForm.get('paymentMethod')?.hasError('required')">{{'required_field' | translate}}</span>
    </div>
    <div class="form-item">
      <label for="amount">{{'amount' | translate}}<span class="required">*</span></label>
      <div class="input-control" [class.error]="paymentForm.get('amount')?.touched && paymentForm.get('amount')?.hasError('required')">
        <input type="number" id="amount" min="0" #amount [placeholder]="currentLocal.prix * 2 || 0" formControlName="amount" name="amount">
        <span class="input-error-image" *ngIf="paymentForm.get('amount')?.touched && paymentForm.get('amount')?.hasError('required')">
          <i class="fa fa-ban" aria-hidden="true"></i>
        </span>
      </div>
      <span class="hint"></span>
      <span class="hint error" *ngIf="paymentForm.get('amount')?.touched && paymentForm.get('amount')?.hasError('required')">{{'required_field' | translate}}</span>
    </div>
    <div class="form-item">
      <label>{{ 'rest' | translate }}</label>
      <span class="rest">{{ computeRest(amount.value) || 0 }} FCFA</span>
    </div>
  </div>
  <div mat-dialog-actions class="dialog-actions">
    <button class="btn btn-default" [mat-dialog-close]="false">{{ 'cancel' | translate }}</button>
    <button class="btn btn-primary" [disabled]="paymentForm.invalid" rbButton [loading]="loading" (click)="performAction()">{{ 'save' | translate }}</button>
  </div>
</form>
